<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<meta name=description content="">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<title>Añadir GPU</title>
	<link rel=stylesheet href="./style/style.css">
	<script type="text/javascript">
		/* La función obtiene el valor de color del formulario 
		   y lo actualiza en la pagina padre. */
		function cerrar() {
			var es_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
			var es_iExplorer = navigator.userAgent.toLowerCase().indexOf('trident/7.0') > -1;
			if(!es_firefox && !es_iExplorer){
				alert("La comunicación entre ventanas no está permitida desde este navegador.");
			}
			else{
				var color = window.document.getElementById('inputColorGraf').value;
				var lGraficas = window.opener.document.getElementsByClassName("grafica");

				for(var i = 0; i < lGraficas.length; i++){
					lGraficas[i].style.background = color;
				}
			}
			this.window.close();
		}
	</script>
</head>
<body>
	<video autoplay muted loop>
		<source src="./media/video/loop1.mp4" type="video/mp4">
	</video>
	<main id="formulario">
		<form action="">
			<fieldset><legend>COLOR GRÁFICA</legend>
				<h1>COLOR GRÁFICA_</h1>
				<div id="formWrapperGraf">
					<div id="" class="OpenClose">┌</div>
					<div id="" class="OpenClose">┐</div>
					<p><label for="inputColorGraf">SELECCIONAR COLOR</label><input id="inputColorGraf" class="" type="color"></p>
					<div id="" class="OpenClose">└</div>
					<div id="" class="OpenClose">┘</div>
				</div>
				<div id="buttonsWrapper">
					<input type="button" value="CANCELAR" onclick="window.close();">
					<input class="even" type="button" value="ACEPTAR" onclick="cerrar()">
				</div>			
			</fieldset>
		</form>
	</main>
</body>
</html>